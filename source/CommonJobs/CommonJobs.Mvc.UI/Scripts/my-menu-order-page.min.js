var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},MyMenu;(function(n){$(document).ready(function(){var n=new t(window.ViewData);n.bind()});var t=function(n){function t(t){n.call(this),this.orderDate=moment(),this.isOrdered=!1,this.isProcessButtonVisible=ko.observable(!1);var i=t.order;this.isOrdered=i.IsOrdered,this.orderDate=moment(i.Date),this.placeSummaries=_.sortBy(_.map(i.PlacesByKey,function(n,t){return{placeKey:t,placeName:n,optionSummaries:_.map(i.OptionsByKey,function(n,r){return{optionKey:r,optionName:n,food:i.FoodsByOption[r],quantity:i.QuantityByOptionByPlace[t]&&i.QuantityByOptionByPlace[t][r]||0}})}}),"placeKey"),this.detail=_.sortBy(_.map(i.DetailByUserName,function(n,r){return{userName:r,url:t.baseLink+r,employeeName:n.EmployeeName,placeKey:n.PlaceKey,placeName:n.PlaceKey&&i.PlacesByKey[n.PlaceKey]||" - ",optionKey:n.OptionKey,optionName:n.OptionKey&&i.OptionsByKey[n.OptionKey]||" - ",food:n.PlaceKey&&n.OptionKey&&i.FoodsByOption[n.OptionKey]||"No come aqu√≠",comment:n.Comment||" - "}}),"employeeName")}return __extends(t,n),t.prototype.toggleProcessButton=function(){this.isProcessButtonVisible(!this.isProcessButtonVisible())},t.prototype.bind=function(){ko.applyBindings(this);var n=$("table.table-detail");n.dataTable({bPaginate:!1,sDom:'T<"clear">lfrtip',bInfo:!1,oTableTools:{aButtons:[{sExtends:"copy",sButtonText:"Copiar"},{sExtends:"print",sButtonText:"Imprimir"},{sExtends:"collection",sButtonText:"Exportar",aButtons:["csv","xls","pdf"]}]}})},t.prototype.refresh=function(){location.reload()},t}(Utilities.HasCallbacks);n.OrderPage=t})(MyMenu||(MyMenu={}))