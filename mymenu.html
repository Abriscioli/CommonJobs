<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>HTML Home Page</title>

    <link href="Content/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="Content/bootstrap-responsive.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/jquery-1.8.2.js" type="text/javascript"></script>
    <script src="Scripts/moment.js" type="text/javascript"></script>
    <script src="Scripts/moment.i18n/es.js" type="text/javascript"></script>
    <script src="Scripts/bootstrap.js" type="text/javascript"></script>
    <script src="Scripts/knockout-2.2.0.js" type="text/javascript"></script>
    <script src="Scripts/underscore.js" type="text/javascript"></script>
    <script src="Scripts/moment-datepicker.js" type="text/javascript"></script>
    <link href="Content/moment-datepicker/datepicker.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/moment-datepicker-ko.js" type="text/javascript"></script>

    <link href="Content/site.css" rel="stylesheet" type="text/css" />
    <script src="Scripts/site.js" type="text/javascript"></script>
    <script src="Scripts/CommonFood.js" type="text/javascript"></script>
    <script src="Scripts/mymenu.js" type="text/javascript"></script>
</head>
<body>
    <div>
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <ul class="nav">
                    <li><a href="./">Home</a></li>
                    <li><a href="admin.html">Definir menues</a></li>
                    <li class="active"><a href="mymenu.html">Mi menú</a></li>
                </ul>
            </div>
        </div>
        <header class="jumbotron subhead" id="Header1" style="padding: 40px 0;">
            <div class="container">
                <h1>Mi Menú</h1>
            </div>
        </header>
        <div class="container">
            <section class="persistence">
                <h2>Persistencia</h2>
                <div>
                    <button class="btn" data-bind="click: CommonFood.MyMenu.load">Leer desde JSON</button>
                    <button class="btn" data-bind="click: CommonFood.MyMenu.save">Escribir en JSON</button>
                    <div class="btn-group" data-toggle="buttons-checkbox">
                        <a class="btn collapse-data-btn" data-toggle="collapse" href="#collapseData">Mostrar JSON</a>
                    </div>
                </div>
                <div id="collapseData" class="collapse">
                    <textarea class="json-field menu">
    {
      "title":"Menú primaveral",
      "firstWeek":0,
      "weeksQuantity":5,
      "startDate":"2012-09-21T00:00:00",
      "endDate":"2020-01-01T00:00:00",
      "places":[
        { "key":"place_larioja", "text":"La Rioja" },
        { "key":"place_garay", "text":"Garay" }
      ],
      "options":[
        { "key":"menu_comun", "text":"Común" },
        { "key":"menu_light", "text":"Light" },
        { "key":"menu_vegetariano", "text":"Vegetariano" }
      ],
      "foods":[
        { "week":0, "day":1, "option":"menu_comun", "food":"Cuarto de pollo deshuesado al champignonge c/papas" },
        { "week":0, "day":1, "option":"menu_light", "food":"Wok de vegetales y atun al natural" },
        { "week":0, "day":1, "option":"menu_vegetariano", "food":"Cintas caseras de rucula c/wok de hongos  y salsa de soja" },
        { "week":0, "day":2, "option":"menu_comun", "food":"Albondigas a la portuguesa c/pure de papas" },
        { "week":0, "day":2, "option":"menu_light", "food":"Ensalada de rucula,champig frescos,remolacha y huevo" },
        { "week":0, "day":2, "option":"menu_vegetariano", "food":"Fajitas Mexicanas veg c/ batatas al horno" },
        { "week":0, "day":3, "option":"menu_comun", "food":"Ravioles de pollo,puerro y muzarella c/ salsa mixta" },
        { "week":0, "day":3, "option":"menu_light", "food":"Milanesas de soja c/puré de calabaza y zanahoria" },
        { "week":0, "day":3, "option":"menu_vegetariano", "food":"Brusquetas de verduras gratinadas,aceitunas,tomates y espinaca" },
        { "week":0, "day":4, "option":"menu_comun", "food":"Milanesa a la suiza c/papas y cebollas al horno" },
        { "week":0, "day":4, "option":"menu_light", "food":"Pechuga sin piel al puerro c/vegetales grillados" },
        { "week":0, "day":4, "option":"menu_vegetariano", "food":"Sorrentinos de calabaza y muzzarella c/salsa mixta" },
        { "week":0, "day":5, "option":"menu_comun", "food":"Filet de merluza al roquefort c/papas al natural" },
        { "week":0, "day":5, "option":"menu_light", "food":"Ñoquis de ricota,salsa de tomates frescos y albahaca" },
        { "week":0, "day":5, "option":"menu_vegetariano", "food":"Pizza individual de espinaca y muzzarella" },
        { "week":1, "day":1, "option":"menu_comun", "food":"Sorrentinos jamon y quso c/salsa scarparo" },
        { "week":1, "day":1, "option":"menu_light", "food":"Ensalada roja de tomate,remolacha,zanahoria,repollo colorado y atun al natural" },
        { "week":1, "day":1, "option":"menu_vegetariano", "food":"Milanesa de berenjena a la napolitana c/puré mixto" },
        { "week":1, "day":2, "option":"menu_comun", "food":"Cuarto de pollo al verdeo c/papas" },
        { "week":1, "day":2, "option":"menu_light", "food":"Brusquetas de verduras grilladas,tomates y albahaca en pan integral y semillas" },
        { "week":1, "day":2, "option":"menu_vegetariano", "food":"Wok de vegetales hongos,brotes,semillas y salsa de soja" },
        { "week":1, "day":3, "option":"menu_comun", "food":"Milanesa napolitana c/puré mixto" },
        { "week":1, "day":3, "option":"menu_light", "food":"Pollo a la mostaza c/arroz integral" },
        { "week":1, "day":3, "option":"menu_vegetariano", "food":"Ñoquis de espicas y papas c/ salsa de puerro y tomates frescos" },
        { "week":1, "day":4, "option":"menu_comun", "food":"Merluza horneada caprese c/puré de papas y espinacas" },
        { "week":1, "day":4, "option":"menu_light", "food":"Risotto Integral de Verduras y espinaca" },
        { "week":1, "day":4, "option":"menu_vegetariano", "food":"Ensalada de verdes,huevos duros,parmesano,croutons y aderezos Cesar" },
        { "week":1, "day":5, "option":"menu_comun", "food":"Fajitas Mixtas c/papas provenzal" },
        { "week":1, "day":5, "option":"menu_light", "food":"Ravioles de ricota en masa integral c/salsa de verduras y tomates frescos" },
        { "week":1, "day":5, "option":"menu_vegetariano", "food":"Calzone de muzzarella,tomates,albahaca y muzzarella" },
        { "week":2, "day":1, "option":"menu_comun", "food":"Canelones de ricota y verduras a la bolognesa" },
        { "week":2, "day":1, "option":"menu_light", "food":"Pollo al puerro acompañado c/verduras asadas" },
        { "week":2, "day":1, "option":"menu_vegetariano", "food":"Milanesas de soja a la napolitana c/puré mixto" },
        { "week":2, "day":2, "option":"menu_comun", "food":"Arroz c/calamares" },
        { "week":2, "day":2, "option":"menu_light", "food":"Ensalada de hojas verdes, champignones, verdeo, claras de huevo grilladas y semillas" },
        { "week":2, "day":2, "option":"menu_vegetariano", "food":"Ñoquis de papa y espinaca c/salsa roquefort" },
        { "week":2, "day":3, "option":"menu_comun", "food":"Muslo relleno c/ jamon y queso y verduras asadas" },
        { "week":2, "day":3, "option":"menu_light", "food":"Niños envueltos c/puré de calabaza y hierbas" },
        { "week":2, "day":3, "option":"menu_vegetariano", "food":"Calabaza asada c/queso gratinado,choclo y puerro" },
        { "week":2, "day":4, "option":"menu_comun", "food":"Pizza individual napolitana c/jamon y aceitunas" },
        { "week":2, "day":4, "option":"menu_light", "food":"Merluza horneada al limon y hierbas c/calabaza asada" },
        { "week":2, "day":4, "option":"menu_vegetariano", "food":"Ensalada de hojas verdes,tomates,muzzarella,aceitunas negras y verdeo" },
        { "week":2, "day":5, "option":"menu_comun", "food":"Carne asada al horno con papas a las hierbas" },
        { "week":2, "day":5, "option":"menu_light", "food":"Wok de vegetales, brotes, hongos y semillas." },
        { "week":2, "day":5, "option":"menu_vegetariano", "food":"Ravioles de espinaca y parmesano c/salsa rosa" },
        { "week":3, "day":1, "option":"menu_comun", "food":"Pollo al verdeo c/calabaza asada" },
        { "week":3, "day":1, "option":"menu_light", "food":"Roulete integral de vegetales,brotes y semillas" },
        { "week":3, "day":1, "option":"menu_vegetariano", "food":"Milanesa de zapallitos c/muzzarella.tomate y albahaca" },
        { "week":3, "day":2, "option":"menu_comun", "food":"Lasagna a la bolognesa" },
        { "week":3, "day":2, "option":"menu_light", "food":"Ensalada de verdes c/pollo y citronete" },
        { "week":3, "day":2, "option":"menu_vegetariano", "food":"Pizza individual de muzzarella y vegetales gratinados c/pan casero" },
        { "week":3, "day":3, "option":"menu_comun", "food":"Fajitas mexicanas de ternera c/papas y batatas" },
        { "week":3, "day":3, "option":"menu_light", "food":"Ensalada de hojas verdes, atún al natural tomates y zanahoria" },
        { "week":3, "day":3, "option":"menu_vegetariano", "food":"Sorrentinos de vegetales grillados y ricota c/salsa de puerro y tomates" },
        { "week":3, "day":4, "option":"menu_comun", "food":"Suprema napolitana c/puré de papas y calabaza" },
        { "week":3, "day":4, "option":"menu_light", "food":"Pan de carne y vegetales al wok" },
        { "week":3, "day":4, "option":"menu_vegetariano", "food":"Ensalada caprese c/aceitunas negras y rucula" },
        { "week":3, "day":5, "option":"menu_comun", "food":"Matambre a la Pizza con Papas al orégano" },
        { "week":3, "day":5, "option":"menu_light", "food":"Omelete de claras,espinacas y calabaza asada c/pan integral" },
        { "week":3, "day":5, "option":"menu_vegetariano", "food":"Ñoquis de calabaza c/salsa de tomates y espinacas" },
        { "week":4, "day":1, "option":"menu_comun", "food":"Calzon especial c/jamon,morrones y muzzarella" },
        { "week":4, "day":1, "option":"menu_light", "food":"Wok de vegetales,pollo y semillas" },
        { "week":4, "day":1, "option":"menu_vegetariano", "food":"Milhojas de verdura,queso y muzzarella" },
        { "week":4, "day":2, "option":"menu_comun", "food":"Pastel de carne y papas con queso gratinado" },
        { "week":4, "day":2, "option":"menu_light", "food":"Pesca del día horneada al limon y hierbas c/calabaza asada" },
        { "week":4, "day":2, "option":"menu_vegetariano", "food":"Sorrentinos Caprese c/salsa de quesos" },
        { "week":4, "day":3, "option":"menu_comun", "food":"Milanesa con arroz a la crema" },
        { "week":4, "day":3, "option":"menu_light", "food":"Ensalada de espinacas frescas,champignones,semillas,verdeo y claras de huevo grilladas" },
        { "week":4, "day":3, "option":"menu_vegetariano", "food":"Pizza individual de muzzarella,rucula y parmesano y aceitunas negras" },
        { "week":4, "day":4, "option":"menu_comun", "food":"Fajitas mexicanas de pollo c/papas a la hierba" },
        { "week":4, "day":4, "option":"menu_light", "food":"Pollo al puerro c/verduras asadas" },
        { "week":4, "day":4, "option":"menu_vegetariano", "food":"Quesadillas mexicanas,c/queso y cebolla" },
        { "week":4, "day":5, "option":"menu_comun", "food":"Suprema a la milanesa c/puré de papas" },
        { "week":4, "day":5, "option":"menu_light", "food":"Pizza integral,c/verduras grilladas y salsa de tomates frescos" },
        { "week":4, "day":5, "option":"menu_vegetariano", "food":"Lasagna de ricota,vegetales,espinacas y salsa mixta gratinada" }
      ]
    }
                    </textarea>
                    <textarea class="json-field employee-menu">
    {
      "employeeId": "employees/228",
      "name": "Moschini, Andrés",
      "defaultPlace": "place_larioja",
      "choices": [
        { "week": 0, "day": 1, "option": "menu_vegetariano" },
        { "week": 0, "day": 3, "option": "menu_vegetariano", "place": "place_garay" },
        { "week": 0, "day": 4, "option": "menu_vegetariano" },
        { "week": 0, "day": 5, "option": "menu_vegetariano" },
        { "week": 1, "day": 1, "option": "menu_vegetariano" },
        { "week": 1, "day": 3, "option": "menu_vegetariano", "place": "place_garay" },
        { "week": 1, "day": 4, "option": "menu_vegetariano" },
        { "week": 1, "day": 5, "option": "menu_vegetariano" },
        { "week": 2, "day": 1, "option": "menu_vegetariano" },
        { "week": 2, "day": 3, "option": "menu_vegetariano", "place": "place_garay" },
        { "week": 2, "day": 4, "option": "menu_vegetariano" },
        { "week": 2, "day": 5, "option": "menu_light" },
        { "week": 3, "day": 1, "option": "menu_vegetariano" },
        { "week": 3, "day": 3, "option": "menu_vegetariano", "place": "place_garay" },
        { "week": 3, "day": 4, "option": "menu_vegetariano" },
        { "week": 3, "day": 5, "option": "menu_light" },
        { "week": 4, "day": 1, "option": "menu_vegetariano" },
        { "week": 4, "day": 3, "option": "menu_vegetariano", "place": "place_garay" },
        { "week": 4, "day": 4, "option": "menu_vegetariano" },
        { "week": 4, "day": 5, "option": "menu_light" }
      ],
      "overrides": [
        { "date": "2012-12-03", "cancel": true, "comment": "Voy a comer mucha torta el domingo, prefiero no almorzar" },
        { "date": "2012-12-05", "place": "place_larioja", "comment": "Se suspende la reunión de los miercoles en Garay" },
        { "date": "2012-12-06", "option": "menu_comun", "comment": "Por ser jueves non santo voy a comer carne" }
      ]
    }
                    </textarea>
                </div>
            </section>
            <section id="main">
                <h2 data-bind="text: name">Mi Menu</h2>
                <h3>General</h3>
                <ul>
                    <li><label>Lugar por defecto: <select data-bind="options: menu.places, 
                                    optionsText: 'text', optionsValue: 'key', 
                                    value: defaultPlace, 
                                    optionsCaption: 'Seleccione...'">
                    </select></label></li>
                </ul>
                <h3>Menu semanal</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <td></td>
                            <!-- ko foreach: CommonFood.days() -->
                            <td data-bind="text: CommonFood.days.getName($data)"></td>
                            <!-- /ko -->
                        </tr>
                    </thead>
                    <tbody data-bind="foreach: weeks">
	                    <tr>
		                    <td><span data-bind='text: text'></span></td>
		                    <!-- ko foreach: CommonFood.days() -->
		                    <td>
                                <select data-bind="options: $root.menu.options, 
                                    optionsText: 'text', optionsValue: 'key', 
                                    value: $root.getMenuChoice($parent.key, $data), 
                                    optionsCaption: 'No come'">
                                </select>
                                <select data-bind="options: $root.menu.places, 
                                    optionsText: 'text', optionsValue: 'key', 
                                    value: $root.getPlaceChoice($parent.key, $data), 
                                    optionsCaption: $root.getDefaultPlaceLabel()">
                                </select>
		                    </td>
		                    <!-- /ko -->
	                    </tr>
                    </tbody>
                </table>
                <h3>Modificaciones por fecha</h3>

            </section>
        </div>
        <footer>
        </footer>
    </div>
</body>
</html>
